name: CD Pipeline

on:
  workflow_call:

jobs:
  deploy_dev:
    name: dev
    uses: ./.github/workflows/deploy_env.yaml
    with:
      environment: dev

  deploy_staging:
    name: staging
    uses: ./.github/workflows/deploy_env.yaml
    with:
      environment: staging

  deploy_live:
    name: live
    needs: deploy_staging
    uses: ./.github/workflows/deploy_env.yaml
    with:
      environment: live
